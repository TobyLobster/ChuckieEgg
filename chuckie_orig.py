#
# Chuckie Egg disassembler
#
# Based on labels from RTW's disassembly of Chuckie Egg: https://stardot.org.uk/forums/viewtopic.php?p=220229#p220229
#

from commands import *
from trace6502 import hook_subroutine
import acorn

load(0x1100, "CH_EGG_1100_29AB_ORIG.bin")
set_output_filename("chuckie_output.asm")

acorn.mos_labels()
acorn.hardware_bbc()

# Zero page
label(0x0000, "intervaltimerblock")
label(0x001B, "savesp")
label(0x001C, "stalltime")
label(0x001D, "time")
label(0x0020, "lives")
label(0x0024, "playerlevel")
label(0x0028, "score")
label(0x0030, "bigbirdxpos")
label(0x0031, "bigbirdypos")
label(0x0032, "bigbirdxspeed")
label(0x0033, "bigbirdyspeed")
label(0x0034, "bigbirdanim")
label(0x0035, "bigbirdflag")
label(0x0036, "currentbirdindex")
label(0x0037, "birdwalkingspeed")
label(0x0038, "updatetimer")
label(0x0039, "numeggsleft")
label(0x003A, "bonus")
label(0x003D, "bonusexpiredflag")
label(0x003E, "extralifeflag")
label(0x003F, "currentscorexpos")
label(0x0040, "playerx")
label(0x0041, "playery")
label(0x0042, "playercharx")
label(0x0043, "playerchary")
label(0x0044, "playerfracx")
label(0x0045, "playerfracy")
label(0x0046, "movementx")
label(0x0047, "movementy")
label(0x0048, "playerspritenum")
label(0x0049, "movementtype")
label(0x004A, "jumpfalldist")
label(0x004B, "jumpdir")
label(0x004C, "playerfacingdir")
label(0x004D, "difficulty")
label(0x004E, "playerdataoffset")
label(0x004F, "playerdieflag")
label(0x0050, "level")
label(0x0051, "mapdataptr")
label(0x0053, "numplatforms")
label(0x0054, "numladders")
label(0x0055, "liftflag")
label(0x0056, "numseeds")
label(0x0057, "numbirds")
label(0x0058, "liftx")
label(0x0059, "lift1y")
label(0x005A, "lift2y")
label(0x005B, "whichlift")
label(0x005C, "screen")
label(0x005D, "playernum")
label(0x005E, "numplayers")
label(0x005F, "numaliveplayers")
label(0x0060, "keys")
label(0x0061, "keynum_right")
label(0x0062, "keynum_left")
label(0x0063, "keynum_down")
label(0x0064, "keynum_up")
label(0x0065, "keynum_jump")
label(0x0066, "rndseed")
label(0x0067, "rndseed + 1")
label(0x0068, "rndseed + 2")
label(0x0069, "rndseed + 3")
label(0x0070, "write")
label(0x0071, "write + 1")
label(0x0072, "spriteline")
label(0x0073, "spritecolumn")
label(0x0074, "spritetemp")
label(0x0075, "stringlength")
label(0x0076, "read")
label(0x0077, "read + 1")
label(0x0078, "spriteheight")
label(0x0079, "spritewidthpixels")
label(0x007A, "spritewidth")
label(0x007F, "spritecolour")
label(0x0080, "keybit")
label(0x0081, "columncounter")
label(0x0082, "pixelvalue")
label(0x0083, "pixelbitcounter")
label(0x0084, "spritebyte")
label(0x0087, "widthcounter")
label(0x0088, "temp1")
label(0x0089, "temp2")
label(0x008A, "temp3")
label(0x008B, "temp4")
label(0x008C, "temp5")
label(0x008D, "temp6")
label(0x008E, "temp7")

# Memory locations
label(0x0400, "birddata")
label(0x0400, "birdpixelx")
label(0x0405, "birdpixely")
label(0x040A, "birdcharx")
label(0x040F, "birdchary")
label(0x0414, "birdstatus")
label(0x0419, "birdanim")
label(0x041E, "birddir")
label(0x0500, "playerscore")
label(0x0508, "playerbonus")
label(0x050B, "playerbonusexpiredflag")
label(0x0510, "collectedeggsflags")
label(0x0520, "collectedseedflags")
label(0x0600, "mapdata")
label(0x0700, "mapdata + $0100")
label(0x0900, "showkeys")
label(0x0903, "choosekeys")
label(0x095C, "waitforkey")
label(0x096B, "didntpressshift")
label(0x097A, "didntpressctrl")
label(0x0983, "gotakey")
label(0x099C, "checkkeyclashes")
label(0x09AD, "notsamerow")
label(0x09B8, "notsamecolumn")
label(0x09D4, "keyok")
label(0x09DC, "printkeyname_core")
label(0x09EB, "notshift")
label(0x09F2, "notshiftorctrl")
label(0x0A10, "keywithspecialname")
label(0x0A1B, "nottab")
label(0x0A26, "notcapslock")
label(0x0A31, "notshiftlock")
label(0x0A3C, "notescape")
label(0x0A47, "notspace")
label(0x0A52, "notdelete")
label(0x0A5D, "notreturn")
label(0x0A68, "notcopy")
label(0x0A73, "notleftarrow")
label(0x0A7E, "notrightarrow")
label(0x0A89, "notdownarrow")
label(0x0A94, "notuparrow")
label(0x0AAC, "printstringandreturninkey")
label(0x0AAF, "returninkey")
label(0x0AB2, "string_keyselection")
label(0x0AB3, "string_keyselection_start")
label(0x0ADC, "string_keyselection_end")
#stringn(0x0AB2)
label(0x0ADC, "string_up")
label(0x0ADD, "string_up_start")
label(0x0AE9, "string_up_end")
label(0x0AE9, "string_down")
label(0x0AEA, "string_down_start")
label(0x0AF8, "string_down_end")
label(0x0AF8, "string_left")
label(0x0AF9, "string_left_start")
label(0x0B07, "string_left_end")
label(0x0B07, "string_right")
label(0x0B08, "string_right_start")
label(0x0B17, "string_right_end")
label(0x0B17, "string_jump")
label(0x0B18, "string_jump_start")
label(0x0B26, "string_jump_end")
label(0x0B26, "string_tab")
label(0x0B2A, "string_capslock")
label(0x0B34, "string_shiftlock")
label(0x0B3F, "string_escape")
label(0x0B46, "string_space")
label(0x0B4C, "string_delete")
label(0x0B53, "string_return")
label(0x0B5A, "string_copy")
label(0x0B5F, "string_leftarrow")
label(0x0B6A, "string_rightarrow")
label(0x0B76, "string_downarrow")
label(0x0B81, "string_uparrow")
label(0x0B8A, "string_shift")
label(0x0B90, "string_control")
label(0x0B98, "showkeys_core")
label(0x0BF0, "printkeyname")
label(0x0BF8, "string_keys")
label(0x0BF9, "string_keys_start")
label(0x0C09, "string_keys_end")
label(0x0C09, "string_holdabort")
label(0x0C0A, "string_holdabort_start")
label(0x0C38, "string_holdabort_end")
label(0x0C38, "domovementsound")
label(0x0C3F, "ismoving")
label(0x0C46, "domovementsound2")
label(0x0C4F, "notmovinghorizontally")
label(0x0C58, "notmovingvertically")
label(0x0C6C, "jumpingupsound")
label(0x0C76, "notjumpingsound")
label(0x0C84, "notfallingsound")
label(0x0C89, "movingonlift")
label(0x0C8B, "playsoundblip")
label(0x0C98, "blipsoundblock")
label(0x0CA0, "deathsoundblock")
label(0x0CA8, "eggsoundblock")
label(0x0CB0, "bonussoundblock")
label(0x0CB8, "SPARE")
label(0x0CC0, "mapptrs")
label(0x0CD0, "map0data")
label(0x0CD5, "map0platform_start")
label(0x0CFC, "map0platform_end");
label(0x0CFC, "map0ladder_start")
label(0x0D08, "map0ladder_end")
label(0x0D20, "map0seed_start")
label(0x0D34, "map0seed_end")
label(0x0D3E, "map1data")
label(0x0D43, "map1platform_start")
label(0x0D6A, "map1platform_end")
label(0x0D6A, "map1ladder_start")
label(0x0D82, "map1ladder_end")
label(0x0D9A, "map1seed_start")
label(0x0DA8, "map1seed_end")
label(0x0DB2, "map2data")
label(0x0DB7, "map2platform_start")
label(0x0DFF, "map2platform_end")
label(0x0DFF, "map2ladder_start")
label(0x0E14, "map2ladder_end")
label(0x0E2D, "map2seed_start")
label(0x0E41, "map2seed_end")
label(0x0E4B, "map3data")
label(0x0E50, "map3platform_start")
label(0x0E9E, "map3platform_end")
label(0x0E9E, "map3ladder_start")
label(0x0EAD, "map3ladder_end")
label(0x0EC6, "map3seed_start")
label(0x0ED2, "map3seed_end")
label(0x0EDC, "map4data")
label(0x0EE1, "map4platform_start")
label(0x0F14, "map4platform_end")
label(0x0F14, "map4ladder_start")
label(0x0F2F, "map4ladder_end")
label(0x0F48, "map4seed_start")
label(0x0F62, "map4seed_end")
label(0x0F6C, "map5data")
label(0x0F71, "map5platform_start")
label(0x0FA1, "map5platform_end")
label(0x0FA1, "map5ladder_start")
label(0x0FB3, "map5ladder_end")
label(0x0FCC, "map5seed_start")
label(0x0FDE, "map5seed_end")
label(0x0FE8, "map6data")
label(0x0FED, "map6platform_start")
label(0x1032, "map6platform_end")
label(0x1032, "map6ladder_start")
label(0x1047, "map6ladder_end")
label(0x1060, "map6seed_start")
label(0x1068, "map6seed_end")
label(0x1072, "map7data")
label(0x1077, "map7platform_start")
label(0x10A4, "map7platform_end")
label(0x10A4, "map7ladder_start")
label(0x10B6, "map7ladder_end")
label(0x10CE, "map7seed_start")
label(0x10EE, "map7seed_end")
label(0x10F8, "SPARE2")
label(0x1100, "codelow_end")
label(0x1100, "codemain_start")
label(0x1100, "spritetable")
label(0x1200, "sprite_platform")
label(0x1208, "sprite_ladder")
label(0x1210, "sprite_egg")
label(0x1218, "sprite_seed")
label(0x1220, "sprite_lift")
label(0x1228, "sprite_manright1")
label(0x1238, "sprite_manright2")
label(0x1248, "sprite_manright3")
label(0x1258, "sprite_manleft1")
label(0x1268, "sprite_manleft2")
label(0x1278, "sprite_manleft3")
label(0x1288, "sprite_manupdown1")
label(0x1298, "sprite_manupdown2")
label(0x12AA, "sprite_manupdown3")
label(0x12BC, "sprite_bigbirdright1")
label(0x12EC, "sprite_bigbirdright2")
label(0x131C, "sprite_bigbirdleft1")
label(0x134C, "sprite_bigbirdleft2")
label(0x137C, "sprite_cagewithhole")
label(0x140C, "sprite_cage")
label(0x149C, "sprite_birdright1")
label(0x14B0, "sprite_birdright2")
label(0x14C4, "sprite_birdleft1")
label(0x14D8, "sprite_birdleft2")
label(0x14EC, "sprite_birdupdown1")
label(0x1500, "sprite_birdupdown2")
label(0x1516, "sprite_birdeatright1")
label(0x153E, "sprite_birdeatright2")
label(0x1566, "sprite_birdeatleft1")
label(0x158E, "sprite_birdeatleft2")
label(0x15B6, "sprite_digit0")
label(0x15BD, "sprite_digit1")
label(0x15C4, "sprite_digit2")
label(0x15CB, "sprite_digit3")
label(0x15D2, "sprite_digit4")
label(0x15D9, "sprite_digit5")
label(0x15E0, "sprite_digit6")
label(0x15E7, "sprite_digit7")
label(0x15EE, "sprite_digit8")
label(0x15F5, "sprite_digit9")
label(0x15FC, "sprite_score")
label(0x1617, "sprite_highlightbox")
label(0x163B, "sprite_player")
label(0x165F, "sprite_level")
label(0x168C, "sprite_bonus")
label(0x16C2, "sprite_time")
label(0x16EF, "sprite_life")
label(0x16F2, "sprite_bigc")
label(0x172E, "sprite_bigh")
label(0x176A, "sprite_bigu")
label(0x17A6, "sprite_bigk")
label(0x17E2, "sprite_bigi")
label(0x181E, "sprite_bige")
label(0x185A, "sprite_bigg")
label(0x1896, "SPARE3")
label(0x1902, "plotsprite")
label(0x191C, "rotatecolourloop")
label(0x1920, "dontrotatecolour")
label(0x192B, "plotpixelloop")
label(0x1935, "pixelclear")
label(0x193f, "+")
label(0x194B, "morebitsleft")
label(0x1961, "spritedonerow")
label(0x196B, "plotspriteexit")
label(0x196C, "spritegotonextrow")
label(0x1977, "movetonextcharrow")
label(0x1987, "calcscrnaddr")
label(0x19DB, "getspritedata")
label(0x1A0C, "plotspriteatcharpos")
label(0x1A26, "printstring")
label(0x1A30, "printstringloop")
label(0x1A3B, "handlekeyboard")
label(0x1A48, "paused")
label(0x1A67, "stillpaused")
label(0x1A6E, "checkkeys")
label(0x1A90, "checkkey")
label(0x1AA1, "keynotpressed")
label(0x1AA4, "rnd")
label(0x1AB5, "addscore")
label(0x1AC4, "dontawardextralife")
label(0x1AD6, "nomorecarry")
label(0x1AD8, "updatedigit")
label(0x1ADD, "updatedigit2")
label(0x1AE6, "add5timesxloop")
label(0x1B01, "displaydigit")
label(0x1B10, "framedelay")
label(0x1B23, "finisheddelay")
label(0x1B33, "initmap")
label(0x1B67, "clearmaploop")
label(0x1B7A, "putplatformsloop")
label(0x1B90, "putplatformloop")
label(0x1BB0, "putladdersloop")
label(0x1BC6, "putladderloop")
label(0x1BDE, "blankmapblock")
label(0x1C0A, "noliftonthismap")
label(0x1C18, "puteggsloop")
label(0x1C47, "alreadycollectedegg")
label(0x1C5D, "putseedloop")
label(0x1C8A, "alreadycollectedseed")
label(0x1CA6, "birdincage")
label(0x1CB1, "putbirdsloop")
label(0x1CC3, "drawtopstatus")
label(0x1CDB, "getplayerstatusxloop")
label(0x1CF5, "drawplayerscorelivesloop")
label(0x1D43, "get10sloop")
label(0x1D4E, "got10s")
label(0x1D53, "get100sloop")
label(0x1D5E, "got100s")
label(0x1D6D, "lessthanlevel100")
label(0x1DEF, "drawplayerscorelives")
label(0x1DF2, "mulby34")
label(0x1E16, "showscoreloop")
label(0x1E45, "showlivesloop")
label(0x1E62, "nolivestodraw")
label(0x1E63, "handleplayercontrols")
label(0x1E70, "rightnotpressed")
label(0x1E75, "leftnotpressed")
label(0x1E7A, "downnotpressed")
label(0x1E7F, "upnotpressed")
label(0x1E8C, "notjumping")
label(0x1E91, "notclimbing")
label(0x1E98, "notfalling")
label(0x1E9B, "onplatform")
label(0x1EA4, "nottryingjump")
label(0x1EB2, "attemptclimbup")
label(0x1EC1, "attemptclimbdown")
label(0x1ECD, "doclimb")
label(0x1ED8, "nottryingclimb")
label(0x1F05, "fallofftotheright")
label(0x1F08, "fallofftotheleft")
label(0x1F10, "notfallingoffplatform")
label(0x1F19, "platformmove")
label(0x1F1F, "playernotmoving")
label(0x1F22, "climbing")
label(0x1F2B, "nottryingtojump2")
label(0x1F4A, "normalclimbing")
label(0x1F5A, "climbingup")
label(0x1F6C, "climbingdown")
label(0x1F7A, "laddermove")
label(0x1F81, "jumping")
label(0x1FAD, "notjumpedtotopofscreen")
label(0x1FBC, "trycatchladderpressingup")
label(0x1FDB, "catchladderpressingup")
label(0x1FEA, "alreadyalignedok1")
label(0x1FED, "trycatchladderpressingdown")
label(0x2013, "alreadyalignedok2")
label(0x2016, "notcatchingladdermidjump")
label(0x201F, "jumpbelowyboundary")
label(0x2039, "jumponyboundary")
label(0x204C, "jumpaboveyboundary")
label(0x2062, "checkjumponlift")
label(0x208F, "hitlift1")
label(0x2096, "adjustlift1pos")
label(0x2099, "checklift2")
label(0x20A5, "hitlift2")
label(0x20AC, "moveupwithlift")
label(0x20BF, "nolifttolandon")
label(0x20CD, "jumpmove")
label(0x20D0, "attemptjump")
label(0x20E0, "jumpkeepcurrentdir")
label(0x20E3, "falling")
label(0x20F6, "fallstraightdown")
label(0x2108, "fallingmain")
label(0x2111, "fallingbelowyboundary")
label(0x212B, "fallingonyboundary")
label(0x213B, "fallingmove")
label(0x213E, "onlift")
label(0x2147, "notjumpingfromlift")
label(0x2156, "playermovedofflift")
label(0x2160, "playerstillonlift")
label(0x216A, "notmovingonlift")
label(0x2173, "dontimpedemovementonlift")
label(0x217B, "moveplayer")
label(0x21BE, "playerrightanim")
label(0x21C6, "playerupdownanim")
label(0x21CD, "calcplayeranim")
label(0x21D8, "first2frames")
label(0x21E7, "animnotclimbing")
label(0x21ED, "makeplayeranim")
label(0x2248, "hitseed")
label(0x2275, "exitplayermove")
label(0x2276, "tryhorizontalmovement")
label(0x227E, "tryleftmovement")
label(0x22A4, "trylefttestblockabove")
label(0x22A5, "trylefttestblock")
label(0x22BD, "tryrightmovement")
label(0x22E3, "tryrighttestblockabove")
label(0x22E4, "tryrighttestblock")
label(0x22FA, "horizmovesucceeded")
label(0x22FC, "horizmovefailed")
label(0x22FE, "removeegg")
label(0x2311, "removeseed")
label(0x2324, "plotplayer")
label(0x2336, "plotbigbird")
label(0x234B, "plotbird")
label(0x236D, "noteatingtoleft")
label(0x2374, "movelift")
label(0x2380, "movelift1")
label(0x23A3, "liftstillonscreen")
label(0x23BD, "updatelift1")
label(0x23C1, "togglelift")
label(0x23C7, "exitmovelift")
label(0x23C8, "getmapblock")
label(0x23D5, "readmapdatalo")
label(0x23D9, "readmapdatahi")
label(0x23DD, "offscreen")
label(0x23E0, "setmapblock")
label(0x23E5, "writemapdatalo")
label(0x23E9, "writemapdatahi")
label(0x23ED, "calcmapaddr")
label(0x2404, "exitwithcset")
label(0x2407, "updatebirds")
label(0x2416, "dontmovebigbird")
label(0x2420, "movebigbird")
label(0x2433, "movebigbirdright")
label(0x2444, "movebigbirdleft")
label(0x2452, "movebigbirdvertically")
label(0x245B, "movebigbirdup")
label(0x2468, "movebigbirddown")
label(0x2472, "bigbirdbounce")
label(0x2483, "dontbounceoffbottom")
label(0x2494, "animatebigbird")
label(0x24B5, "movebirds")
label(0x24BF, "dontresetbirdindex")
label(0x24C4, "movebird")
label(0x24D0, "birddosomething")
label(0x24D5, "birdwalking")
label(0x24F2, "noplatformtotheleft")
label(0x2505, "noplatformtotheright")
label(0x2517, "noladderbelow")
label(0x252A, "noladderabove")
label(0x253B, "morethanonechoice")
label(0x2549, "birdmovingupdown")
label(0x254B, "birdmovingleftright")
label(0x2560, "stillmorethanonechoice")
label(0x2564, "tryrandomdirectionloop")
label(0x257B, "birdgotdirection")
label(0x2593, "newbirddirright")
label(0x259B, "birdmovedhorizontally")
label(0x25A9, "countsetbits")
label(0x25AD, "countsetbitsloop")
label(0x25B6, "birdeatingseed")
label(0x25D0, "foundseedpos")
label(0x25EF, "animatebird")
label(0x2607, "animatebirddown")
label(0x2618, "animatebirddown2")
label(0x261D, "animatebirdup")
label(0x262E, "animatebirdup2")
label(0x2633, "animatebirdleft")
label(0x2644, "animatebirdleft2")
label(0x2649, "animatebirdright")
label(0x265A, "animatebirdright2")
label(0x265F, "animatebird2")
label(0x2675, "animatebirdeating")
label(0x2682, "finishedeating")
label(0x268C, "eatingright")
label(0x2696, "eatingsecondframe")
label(0x269D, "decreasetime")
label(0x26A8, "dodecreasetime")
label(0x26AC, "decreasetimeloop")
label(0x26BA, "timenocarry")
label(0x26CE, "timenotzero")
label(0x26D7, "decreasebonus")
label(0x26DC, "dodecreasebonus")
label(0x26E0, "decreasebonusloop")
label(0x26EE, "bonusnocarry")
label(0x2701, "exitdecreasebonus")
label(0x2702, "showtimedigit")
label(0x2715, "showbonusdigit")
label(0x2728, "checkcollisions")
label(0x2730, "checkcollisionbirdloop")
label(0x2750, "birdnotcollided")
label(0x2758, "checkcollisionbigbird")
label(0x277B, "exitcheckcollisions")
label(0x277C, "gethiscoreaddr")
label(0x2796, "resethiscoretab")
label(0x279A, "resethiscoretabloop")
label(0x27A3, "clearhiscorenameloop")
label(0x27BB, "clearhiscoreloop")
label(0x27CB, "checknewhiscore")
label(0x27CF, "checknewhiscoreloop")
label(0x27D6, "comparescoreloop")
label(0x27E4, "checknexthiscore")
label(0x27ED, "inserthiscore")
label(0x27F2, "inserthiscoreloop")
label(0x27FE, "insertblanknameloop")
label(0x2806, "shufflehiscores")
label(0x280A, "shuffleloop")
label(0x2815, "readhiscoreloop")
label(0x2825, "writehiscoreloop")
label(0x2832, "shuffled")
label(0x2838, "showhiscores")
label(0x284D, "showhiscoresloop")
label(0x2864, "nothiscore10")
label(0x2878, "hiscoredigitsloop")
label(0x2885, "printhighscoredigit")
label(0x288A, "printhighscorechar")
label(0x2897, "hiscorenameloop")
label(0x28BD, "showhiscoresend")
label(0x28BE, "updatehiscoretab")
label(0x28C8, "gethiscorename")
label(0x28DC, "positionpromptloop")
label(0x28F0, "promptpositioned")
label(0x2930, "copynewhiscorenameloop")
label(0x293E, "exitgethiscorename")
label(0x293F, "string_highscores")
label(0x2940, "string_highscores_start")
label(0x2957, "string_highscores_end")
label(0x2957, "string_hiscorepos")
label(0x2958, "string_hiscorepos_start")
label(0x295C, "hiscoreypos")
label(0x295E, "string_hiscorepos_end")
label(0x295E, "string_hiscoreprompt")
label(0x295F, "string_hiscoreprompt_start")
label(0x2966, "promptypos")
label(0x2967, "promptypos + 1")
label(0x2969, "string_hiscoreprompt_end")
label(0x2969, "string_enteryourname")
label(0x296A, "string_enteryourname_start")
label(0x299a, "hiscorenamebuffer-8")
label(0x299D, "string_enteryourname_end")
label(0x299D, "osword0block")
label(0x29A2, "hiscorenamebuffer")
label(0x29AB, "hiscorenamebuffer_end")

entry(0x29AB, "entrypoint")

label(0x29AE, "start")
label(0x29B4, "restartplayer")
label(0x29CF, "startnewlevel")
label(0x29DD, "mainloop")
label(0x2A0A, "levelcomplete")
label(0x2A0E, "awardbonusloop")
label(0x2A23, "playbonussound")
label(0x2A2C, "dontplaybonussound")
label(0x2A30, "nobonustoaward")
label(0x2A3E, "playerdead")
label(0x2A7A, "nextplayersturn")
label(0x2A91, "allplayersdead")
label(0x2A94, "string_gameover")
label(0x2A95, "string_gameover_start")
label(0x2AB2, "string_gameover_end")
label(0x2AB2, "string_getready")
label(0x2AB3, "string_getready_start")
label(0x2AC9, "string_getready_end")
label(0x2AC9, "string_playerN")
label(0x2ACA, "string_playerN_start")
label(0x2AD7, "string_playerN_end")
label(0x2AD7, "initialise")
label(0x2AE2, "copyloop")
label(0x2B5F, "initpalette")
label(0x2B76, "string_vdu19")
label(0x2B77, "string_vdu19_start")
label(0x2B7D, "string_vdu19_end")
label(0x2B7D, "palettedata")
label(0x2B8D, "choosenumplayers")
label(0x2B9C, "inputnumplayers")
label(0x2BAE, "not1player")
label(0x2BC0, "not2player")
label(0x2BD2, "not3player")
label(0x2BE4, "not4player")
label(0x2BF1, "startgame")
label(0x2C00, "initallplayers")
label(0x2C02, "resetplayerdataloop")
label(0x2C11, "resetplayerscores")
label(0x2C1D, "resetplayerscores2")
label(0x2C32, "resetperplayerloop")
label(0x2C44, "string_howmanyplayers")
label(0x2C45, "string_howmanyplayers_start")
label(0x2C5E, "string_howmanyplayers_end")
label(0x2C5E, "pause")
label(0x2C60, "pauseloop1")
label(0x2C64, "pauseloop2")
label(0x2C6F, "titlepage")
label(0x2C75, "titlepageloop")
label(0x2C87, "titlepagewait1")
label(0x2C95, "titlepagewait2")
label(0x2CAE, "titlepagewait3")
label(0x2CBC, "titlepagewait4")
label(0x2CC6, "displayrandomlevel")
label(0x2CD8, "initplayersfordemo")
label(0x2CE5, "showlogo")
label(0x2D44, "showkeyhelp")
label(0x2D4C, "string_keyhelp")
label(0x2D4D, "string_keyhelp_start")
label(0x2D88, "string_keyhelp_end")
label(0x2D88, "checktitlepagekeys_core")
label(0x2D99, "didntpressS")
label(0x2DA7, "pressedK")
label(0x2DB0, "checktitlepagekeys")
label(0x2DB7, "checktitlepagekeysdelay")
label(0x2DBE, "showbigletter")
label(0x2DCA, "initlevel")
label(0x2DE1, "nobigbirdyet")
label(0x2DF3, "birdsnotfastyet")
label(0x2E08, "initplayerleveldata")
label(0x2E1C, "capto9")
label(0x2E2C, "clearcollectedflags")
label(0x2E37, "restoreplayerdata")
label(0x2E49, "restoreplayerdataloop")
label(0x2E59, "restoreplayerdataloop2")
label(0x2E6A, "restoreplayerdataloop3")
label(0x2E75, "saveplayerdata")
label(0x2E7F, "saveplayerdataloop")
label(0x2E8F, "saveplayerdataloop2")
label(0x2E9C, "initcharacters")
label(0x2ECE, "initbigbird")
label(0x2EEF, "notphase2")
label(0x2EF7, "notphase1or3")
label(0x2EF7, "initbirdloop")
label(0x2F27, "doneinitbirds")
label(0x2F53, "checkextralife")
label(0x2F58, "awardextralife")
label(0x2F64, "showlife")
label(0x2F71, "showlife2")
label(0x2F86, "playdeathtune")
label(0x2F92, "playdeathtuneloop")
label(0x2FB0, "deathtunedata")
label(0x2FB1, "deathtune_start")
label(0x2FD1, "deathtune_end")
label(0x2FD1, "envelope1")
label(0x2FDF, "envelope2")
label(0x2FED, "envelope3")
label(0x3000, "codemain_end")
label(0x3000, "relocated_code")
label(0x3000, "relocated_code_end")

Colour0 = 0                     # Black
Colour1 = 2                     # Yellow
Colour2 = 8                     # Magenta
Colour3 = Colour1 + Colour2     # Green
Colour4 = 32                    # Yellow
Colour5 = Colour4 + Colour1     # Yellow
Colour6 = Colour4 + Colour2     # Yellow
Colour7 = Colour4 + Colour3     # Yellow
Colour8 = 128                   # Cyan
Colour9 = Colour8 + Colour1     # Cyan
Colour10 = Colour8 + Colour2    # Cyan
Colour11 = Colour8 + Colour3    # Cyan
Colour12 = Colour8 + Colour4    # Cyan
Colour13 = Colour8 + Colour5    # Cyan
Colour14 = Colour8 + Colour6    # Cyan
Colour15 = Colour8 + Colour7    # Cyan

EggColour      = Colour1
LiftColour     = Colour1
LadderColour   = Colour2
SeedColour     = Colour2
PlatformColour = Colour3
CageColour     = Colour4
PlayerColour   = Colour4
BigBirdColour  = Colour4
BirdColour     = Colour8

LogoColour = Colour1
DigitsColour = Colour2
StatusColour = Colour2
LivesColour = Colour4

constant(Colour0, "Colour0")
constant(Colour1, "Colour1")
constant(Colour2, "Colour2")
constant(Colour3, "Colour3")
constant(Colour4, "Colour4")
constant(Colour5, "Colour5")
constant(Colour6, "Colour6")
constant(Colour7, "Colour7")
constant(Colour8, "Colour8")
constant(Colour9, "Colour9")
constant(Colour10, "Colour10")
constant(Colour11, "Colour11")
constant(Colour12, "Colour12")
constant(Colour13, "Colour13")
constant(Colour14, "Colour14")
constant(Colour15, "Colour15")
constant(EggColour, "EggColour")
constant(LiftColour, "LiftColour")
constant(LadderColour, "LadderColour")
constant(SeedColour, "SeedColour")
constant(PlatformColour, "PlatformColour")
constant(CageColour, "CageColour")
constant(PlayerColour, "PlayerColour")
constant(BigBirdColour, "BigBirdColour")
constant(BirdColour, "BirdColour")

constant(LogoColour, "LogoColour")
constant(DigitsColour, "DigitsColour")
constant(StatusColour, "StatusColour")
constant(LivesColour, "LivesColour")

constant(1, "MapId_Platform")
constant(2, "MapId_Ladder")
constant(4, "MapId_Egg")
constant(8, "MapId_Seed")


constant(0, "SpriteId_Unused")
constant(1, "SpriteId_Platform")
constant(2, "SpriteId_Ladder")
constant(3, "SpriteId_Egg")
constant(4, "SpriteId_Seed")
constant(5, "SpriteId_Lift")
constant(6, "SpriteId_ManRight1")
constant(7, "SpriteId_ManRight2")
constant(8, "SpriteId_ManRight3")
constant(9, "SpriteId_ManLeft1")
constant(10, "SpriteId_ManLeft2")
constant(11, "SpriteId_ManLeft3")
constant(12, "SpriteId_ManUpDown1")
constant(13, "SpriteId_ManUpDown2")
constant(14, "SpriteId_ManUpDown3")
constant(15, "SpriteId_BigBirdRight1")
constant(16, "SpriteId_BigBirdRight2")
constant(17, "SpriteId_BigBirdLeft1")
constant(18, "SpriteId_BigBirdLeft2")
constant(19, "SpriteId_CageWithHole")
constant(20, "SpriteId_Cage")
constant(21, "SpriteId_BirdRight1")
constant(22, "SpriteId_BirdRight2")
constant(23, "SpriteId_BirdLeft1")
constant(24, "SpriteId_BirdLeft2")
constant(25, "SpriteId_BirdUpDown1")
constant(26, "SpriteId_BirdUpDown2")
constant(27, "SpriteId_BirdEatRight1")
constant(28, "SpriteId_BirdEatRight2")
constant(29, "SpriteId_BirdEatLeft1")
constant(30, "SpriteId_BirdEatLeft2")
constant(31, "SpriteId_Digit0")
constant(32, "SpriteId_Digit1")
constant(33, "SpriteId_Digit2")
constant(34, "SpriteId_Digit3")
constant(35, "SpriteId_Digit4")
constant(36, "SpriteId_Digit5")
constant(37, "SpriteId_Digit6")
constant(38, "SpriteId_Digit7")
constant(39, "SpriteId_Digit8")
constant(40, "SpriteId_Digit9")
constant(41, "SpriteId_Score")
constant(42, "SpriteId_HighlightBox")
constant(43, "SpriteId_Player")
constant(44, "SpriteId_Level")
constant(45, "SpriteId_Bonus")
constant(46, "SpriteId_Time")
constant(47, "SpriteId_Life")
constant(48, "SpriteId_BigC")
constant(49, "SpriteId_BigH")
constant(50, "SpriteId_BigU")
constant(51, "SpriteId_BigK")
constant(52, "SpriteId_BigI")
constant(53, "SpriteId_BigE")
constant(54, "SpriteId_BigG")


expr(0x1ab5, "DigitsColour")
expr(0x1b71, "PlatformColour")
expr(0x1ba9, "LadderColour")
expr(0x1bd0, "PlatformColour")
expr(0x1b91, "SpriteId_Platform")
expr(0x1bd0, "PlatformColour")
expr(0x1bd9, "SpriteId_Platform")
expr(0x1bdf, "MapId_Ladder")
expr(0x1c0b, "EggColour")
expr(0x1c34, "MapId_Egg")
expr(0x1c3d, "SpriteId_Egg")
expr(0x1c52, "SeedColour")
expr(0x1c79, "MapId_Seed")
expr(0x1c82, "SpriteId_Seed")
expr(0x1c95, "CageColour")
expr(0x1ca0, "SpriteId_CageWithHole")
expr(0x1cc4, "StatusColour")
expr(0x1ccf, "SpriteId_Score")
expr(0x1cea, "SpriteId_HighlightBox")
expr(0x1d01, "StatusColour")
expr(0x1dba, "SpriteId_Time")
#label(0x1dca, "+")
expr(0x1dfd, "StatusColour")
expr(0x1e30, "LivesColour")
expr(0x1e4d, "SpriteId_Life")
expr(0x1ebc, "MapId_Ladder")
expr(0x1eca, "MapId_Ladder")
expr(0x1f3c, "MapId_Platform")
expr(0x1f64, "MapId_Ladder")
expr(0x1f75, "MapId_Ladder")
#label(0x1f93, "+")
expr(0x1fc5, "MapId_Ladder")
#label(0x1fd4, "+")
expr(0x1fd8, "MapId_Ladder")
expr(0x1ff5, "MapId_Ladder")
expr(0x2001, "MapId_Ladder")
expr(0x2028, "MapId_Platform")
expr(0x2042, "MapId_Platform")
expr(0x2058, "MapId_Platform")
expr(0x211a, "MapId_Platform")
expr(0x2134, "MapId_Platform")
#label(0x21b0, "+")
expr(0x21b5, "SpriteId_ManRight1")
expr(0x21bd, "SpriteId_ManLeft1")
expr(0x21c7, "SpriteId_ManUpDown1")
#label(0x2200, "+")
expr(0x2208, "(MapId_Egg OR MapId_Seed)")
expr(0x220c, "MapId_Seed")
expr(0x22a9, "MapId_Platform")
expr(0x22b8, "MapId_Platform")
expr(0x22e8, "MapId_Platform")
expr(0x22f7, "MapId_Platform")
expr(0x2306, "EggColour")
expr(0x2319, "SeedColour")
expr(0x2325, "PlayerColour")
expr(0x2337, "BigBirdColour")
expr(0x233c, "SpriteId_BigBirdRight1")


sprites = [256, 264, 272, 280, 288, 296, 312, 328, 344, 360, 376, 392, 408, 426, 444,
           492, 540, 588, 636, 780, 924, 944, 964, 984, 1004, 1024, 1046, 1086, 1126,
           1166, 1206, 1213, 1220, 1227, 1234, 1241, 1248, 1255, 1262, 1269, 1276, 1303,
           1339, 1375, 1420, 1474, 1519, 1522, 1582, 1642, 1702, 1762, 1822, 1882, 1942]
oldsp = 0
for sp in sprites:
    byte(0x1100 + oldsp, sp - oldsp)
    oldsp = sp

#byte(0x1100, 0x0796)
move(0x0900, 0x3000, 0x1100 - 0x0900)

go()

